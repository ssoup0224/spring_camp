<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
</head>
<body>
This in the index page. <br/>
result:
<div th:text="${result}">-</div>

<br/><br/><br/>

<button onclick="listener_api_test()">api test</button>
<button onclick="listener_api_test2()">api test2</button>

<script>
    let userId = localStorage.getItem("userId");
    if (userId != null || userId + "" == "" || userId + === "undefined") {
        alert(("not logged in, userId : " + userId + ""))
    } else {
        alert(("logged in, userId : " + userId + ""))
    }
</script>

<script>

    function listener_api_test(){
        $.ajax({
            url: '/api/test',
            method: 'GET',
            data : {
                a : 1
                ,b : 2
            },
            success: function (data, status, xhr) {
                alert("success : " + JSON.stringify(data));
                let keyName = "test1";
                alert("test1 : " + data[keyName]);
            },
            error: function (data, status, err) {
            },
            complete: function () {

            }
        });
    }
    function listener_api_test2(){
        $.ajax({
            url: '/api/test2',
            method: 'GET',
            data : {
                param1 : 11111
                ,param2 : 22222
            },
            success: function (data, status, xhr) {
                alert("success : " + JSON.stringify(data));
                let keyName = "param1";
                alert("param1 : " + data[keyName]);
            },
            error: function (data, status, err) {
            },
            complete: function () {

            }
        });
    }

    let div_title = document.getElementById("div_title").innerHTML;
    //alert(div_title);
    let div_title_jq = $("#div_title").html();
    //alert(div_title_jq);
</script>

</body>
</html>